package atividade09.yuri;

import java.util.Scanner;

public class Atividade09Yuri {
    public static void main(String[] args) {
        Scanner entrada = new Scanner(System.in);
        Agenda agenda = new Agenda();
        int opcao;

        do {
            System.out.println("\n=== AGENDA ELETRÔNICA ===");
            System.out.println("1) Cadastrar contato");
            System.out.println("2) Consultar agenda");
            System.out.println("3) Editar contato");
            System.out.println("4) Excluir contato");
            System.out.println("5) Sair");
            System.out.print("Opção: ");

            while (!entrada.hasNextInt()) {
                System.out.println("Digite um número de 1 a 5.");
                entrada.nextLine();
            }

            opcao = entrada.nextInt();
            entrada.nextLine();

            switch (opcao) {
                case 1: {
                    System.out.println("\n=== CADASTRAR CONTATO ===");
                    System.out.print("Nome: ");
                    String nome = entrada.nextLine().trim();

                    System.out.print("Telefone: ");
                    String telefone = entrada.nextLine().trim();

                    System.out.print("E-mail: ");
                    String email = entrada.nextLine().trim();

                    // Validações básicas
                    if (nome.isEmpty()) {
                        System.out.println("Erro: nome não pode estar vazio.");
                        break;
                    }

                    if (!telefone.matches("[0-9\\-]+")) {
                        System.out.println("Erro: telefone deve conter apenas dígitos e/ou traços.");
                        break;
                    }

                    if (!email.contains("@") || !email.contains(".")) {
                        System.out.println("Erro: e-mail inválido.");
                        break;
                    }

                    // Verificar duplicidade
                    if (agenda.telefoneExiste(telefone)) {
                        System.out.println("Erro: já existe um contato com esse telefone.");
                        break;
                    }

                    Contato novo = new Contato(nome, telefone, email);
                    agenda.salvarContato(novo);
                    break;
                }

                case 2:
                    agenda.consultarAgenda(entrada);
                    break;

                case 3:
                    agenda.editarContato(entrada);
                    break;

                case 4:
                    agenda.excluirContato(entrada);
                    break;

                case 5:
                    System.out.println("Encerrando o programa. Até mais!");
                    break;

                default:
                    System.out.println("Opção inválida! Digite entre 1 e 5.");
            }

        } while (opcao != 5);

        entrada.close();
    }
}


package atividade09.yuri;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;
import java.util.Scanner;

public class Agenda {

    private String[][] agenda = new String[1000][3];
    
    
public boolean telefoneExiste(String telefone) {
    for (String[] c : agenda) {
        if (c != null && c[1] != null && c[1].equals(telefone)) {
            return true;
        }
    }
    return false;
}


    public boolean salvarContato(Contato contato) {
        String email = contato.getEmail();
        String nome = contato.getNome();
        String telefone = contato.getTelefone();

        try {
            for (int i = 0; i < agenda.length; i++) {
                if (agenda[i][0] == null) {
                    agenda[i][0] = nome;
                    agenda[i][1] = telefone;
                    agenda[i][2] = email;
                    System.out.println("Contato salvo!");
                    return true;
                }
            }
            System.out.println("Erro: Agenda cheia.");
            return false;
        } catch (Exception e) {
            System.out.println("Erro ao salvar o contato: " + e.getMessage());
            return false;
        }
    }

    public void consultarAgenda(Scanner entrada) {
        int opcao;
        List<String[]> contatos = new ArrayList<>();

        for (String[] contato : agenda) {
            if (contato != null && contato[0] != null) {
                contatos.add(contato);
            }
        }
        if (contatos.isEmpty()) {
            System.out.println("Agenda vazia.");
            return;
        }

        do {
            System.out.println("[CONSULTAR AGENDA]");
            System.out.println("Ordenar por: \n1 - NOME | 2 - TELEFONE | 3 - E-MAIL");
            while (!entrada.hasNextInt()) {
                System.out.println("Digite 1, 2 ou 3 (número):");
                entrada.nextLine();
            }
            opcao = entrada.nextInt();
            entrada.nextLine();
            if (opcao < 1 || opcao > 3) {
                System.out.println("Opção inválida! \nDigite 1, 2 ou 3.");
            }
        } while (opcao < 1 || opcao > 3);

        int coluna = opcao - 1;

        contatos.sort(Comparator.comparing(
            c -> (c[coluna] == null ? "" : c[coluna].toLowerCase())
        ));

        System.out.println("\n=== CONTATOS ORDENADOS ===");
        for (String[] c : contatos) {
            System.out.println("Nome: " + (c[0] == null ? "-" : c[0]));
            System.out.println("Telefone: " + (c[1] == null ? "-" : c[1]));
            System.out.println("Email: " + (c[2] == null ? "-" : c[2]));
            System.out.println("--------------------------");
        }
    }

    public void buscarPorNome(String termo) {
        boolean encontrado = false;
        for (String[] c : agenda) {
            if (c != null && c[0] != null && c[0].toLowerCase().contains(termo.toLowerCase())) {
                System.out.println("Nome: " + c[0]);
                System.out.println("Telefone: " + (c[1] == null ? "-" : c[1]));
                System.out.println("Email: " + (c[2] == null ? "-" : c[2]));
                System.out.println("--------------------------");
                encontrado = true;
            }
        }
        if (!encontrado) {
            System.out.println("Nenhum contato encontrado com esse termo.");
        }
    }


    public void editarContato(Scanner entrada) {
        System.out.print("Digite o nome do contato que deseja editar: ");
        String nomeBusca = entrada.nextLine();

        boolean encontrado = false;

        for (int i = 0; i < agenda.length; i++) {
            if (agenda[i] != null && agenda[i][0] != null && agenda[i][0].equalsIgnoreCase(nomeBusca)) {
                encontrado = true;
                System.out.println("\nContato encontrado:");
                System.out.println("Nome: " + agenda[i][0]);
                System.out.println("Telefone atual: " + (agenda[i][1] == null ? "-" : agenda[i][1]));
                System.out.println("E-mail atual: " + (agenda[i][2] == null ? "-" : agenda[i][2]));

                System.out.print("\nNovo telefone (deixe em branco para manter): ");
                String novoTelefone = entrada.nextLine();
                if (!novoTelefone.isEmpty()) {
                    agenda[i][1] = novoTelefone;
                }

                System.out.print("Novo e-mail (deixe em branco para manter): ");
                String novoEmail = entrada.nextLine();
                if (!novoEmail.isEmpty()) {
                    agenda[i][2] = novoEmail;
                }

                System.out.println("\nContato atualizado com sucesso!");
                break;
            }
        }

        if (!encontrado) {
            System.out.println("\nContato não encontrado.");
        }
    }

  
    public void excluirContato(Scanner entrada) {
        System.out.print("Informe o número de contato: ");
        String exclusao = entrada.nextLine().trim();
        boolean encontrado = false;

        for (int i = 0; i < agenda.length; i++) {
            String[] contato = agenda[i];
            if (contato != null && contato[1] != null && contato[1].equals(exclusao)) {
                agenda[i][0] = null;
                agenda[i][1] = null;
                agenda[i][2] = null;
                encontrado = true;
                System.out.println("Contato excluído com sucesso!");
                break;
            }
        }

        if (!encontrado) {
            System.out.println("Número não encontrado.");
        }
    }
}
//classe contato

package atividade09.yuri;

public class Contato {
    private String nome;
    private String telefone;
    private String email;

    public Contato() {}

    public Contato(String nome, String telefone, String email) {
        this.nome = nome;
        this.telefone = telefone;
        this.email = email;
    }

    public String getNome() { return nome; }
    public void setNome(String nome) { this.nome = nome; }
    public String getTelefone() { return telefone; }
    public void setTelefone(String telefone) { this.telefone = telefone; }
    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
}
